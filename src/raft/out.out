Test (2B): no agreement if too many followers disconnect ...
2024/06/17 08:29:11 [2]: Voted for 1 with term 1.
2024/06/17 08:29:11 [4]: Voted for 1 with term 1.
2024/06/17 08:29:11 [1]: Claimed to be leader.
2024/06/17 08:29:11 [0]: Voted for 1 with term 1.
2024/06/17 08:29:11 [3]: Voted for 1 with term 1.
2024/06/17 08:29:11 [4]: Receive AppendEntries message from 1 with args &{Term:1 LeaderId:1 PrevLogIdx:-1 PrevLogTerm:-1 Entries:[] LeaderCommitIdx:-1}.
2024/06/17 08:29:11 [4]: Reply success.
2024/06/17 08:29:11 [0]: Receive AppendEntries message from 1 with args &{Term:1 LeaderId:1 PrevLogIdx:-1 PrevLogTerm:-1 Entries:[] LeaderCommitIdx:-1}.
2024/06/17 08:29:11 [0]: Reply success.
2024/06/17 08:29:11 [3]: Receive AppendEntries message from 1 with args &{Term:1 LeaderId:1 PrevLogIdx:-1 PrevLogTerm:-1 Entries:[] LeaderCommitIdx:-1}.
2024/06/17 08:29:11 [3]: Reply success.
2024/06/17 08:29:11 [2]: Receive AppendEntries message from 1 with args &{Term:1 LeaderId:1 PrevLogIdx:-1 PrevLogTerm:-1 Entries:[] LeaderCommitIdx:-1}.
2024/06/17 08:29:11 [2]: Reply success.
2024/06/17 08:29:11 [1]: Received command {Data:10 Term:1 Index:0} from client
2024/06/17 08:29:11 [4]: Receive AppendEntries message from 1 with args &{Term:1 LeaderId:1 PrevLogIdx:-1 PrevLogTerm:-1 Entries:[{Data:10 Term:1 Index:0}] LeaderCommitIdx:-1}.
2024/06/17 08:29:11 [3]: Receive AppendEntries message from 1 with args &{Term:1 LeaderId:1 PrevLogIdx:-1 PrevLogTerm:-1 Entries:[{Data:10 Term:1 Index:0}] LeaderCommitIdx:-1}.
2024/06/17 08:29:11 [0]: Receive AppendEntries message from 1 with args &{Term:1 LeaderId:1 PrevLogIdx:-1 PrevLogTerm:-1 Entries:[{Data:10 Term:1 Index:0}] LeaderCommitIdx:-1}.
2024/06/17 08:29:11 [0]: Reply success.
2024/06/17 08:29:11 [2]: Receive AppendEntries message from 1 with args &{Term:1 LeaderId:1 PrevLogIdx:-1 PrevLogTerm:-1 Entries:[{Data:10 Term:1 Index:0}] LeaderCommitIdx:-1}.
2024/06/17 08:29:11 [2]: Reply success.
2024/06/17 08:29:11 [3]: Reply success.
2024/06/17 08:29:11 [4]: Reply success.
2024/06/17 08:29:11 [1]: Found a larger majority match. Increment commitIdx to 0
2024/06/17 08:29:11 [1]: Sent applyMsg {CommandValid:true Command:10 CommandIndex:1}.
2024/06/17 08:29:11 [2]: Receive AppendEntries message from 1 with args &{Term:1 LeaderId:1 PrevLogIdx:0 PrevLogTerm:1 Entries:[] LeaderCommitIdx:0}.
2024/06/17 08:29:11 [2]: Increment commitIdx from -1 to 0
2024/06/17 08:29:11 [2]: Sent applyMsg {CommandValid:true Command:10 CommandIndex:1}.
2024/06/17 08:29:11 [2]: Reply success.
2024/06/17 08:29:11 [3]: Receive AppendEntries message from 1 with args &{Term:1 LeaderId:1 PrevLogIdx:0 PrevLogTerm:1 Entries:[] LeaderCommitIdx:0}.
2024/06/17 08:29:11 [3]: Increment commitIdx from -1 to 0
2024/06/17 08:29:11 [3]: Sent applyMsg {CommandValid:true Command:10 CommandIndex:1}.
2024/06/17 08:29:11 [3]: Reply success.
2024/06/17 08:29:11 [4]: Receive AppendEntries message from 1 with args &{Term:1 LeaderId:1 PrevLogIdx:0 PrevLogTerm:1 Entries:[] LeaderCommitIdx:0}.
2024/06/17 08:29:11 [4]: Increment commitIdx from -1 to 0
2024/06/17 08:29:11 [4]: Sent applyMsg {CommandValid:true Command:10 CommandIndex:1}.
2024/06/17 08:29:11 [4]: Reply success.
2024/06/17 08:29:11 [0]: Receive AppendEntries message from 1 with args &{Term:1 LeaderId:1 PrevLogIdx:0 PrevLogTerm:1 Entries:[] LeaderCommitIdx:0}.
2024/06/17 08:29:11 [0]: Increment commitIdx from -1 to 0
2024/06/17 08:29:11 [0]: Sent applyMsg {CommandValid:true Command:10 CommandIndex:1}.
2024/06/17 08:29:11 [0]: Reply success.
2024/06/17 08:29:11 [3]: Receive AppendEntries message from 1 with args &{Term:1 LeaderId:1 PrevLogIdx:0 PrevLogTerm:1 Entries:[] LeaderCommitIdx:0}.
2024/06/17 08:29:11 [3]: Reply success.
2024/06/17 08:29:11 [0]: Receive AppendEntries message from 1 with args &{Term:1 LeaderId:1 PrevLogIdx:0 PrevLogTerm:1 Entries:[] LeaderCommitIdx:0}.
2024/06/17 08:29:11 [0]: Reply success.
2024/06/17 08:29:11 [2]: Receive AppendEntries message from 1 with args &{Term:1 LeaderId:1 PrevLogIdx:0 PrevLogTerm:1 Entries:[] LeaderCommitIdx:0}.
2024/06/17 08:29:11 [2]: Reply success.
2024/06/17 08:29:11 [4]: Receive AppendEntries message from 1 with args &{Term:1 LeaderId:1 PrevLogIdx:0 PrevLogTerm:1 Entries:[] LeaderCommitIdx:0}.
2024/06/17 08:29:11 [4]: Reply success.
2024/06/17 08:29:11 [4]: Receive AppendEntries message from 1 with args &{Term:1 LeaderId:1 PrevLogIdx:0 PrevLogTerm:1 Entries:[] LeaderCommitIdx:0}.
2024/06/17 08:29:11 [4]: Reply success.
2024/06/17 08:29:11 [2]: Receive AppendEntries message from 1 with args &{Term:1 LeaderId:1 PrevLogIdx:0 PrevLogTerm:1 Entries:[] LeaderCommitIdx:0}.
2024/06/17 08:29:11 [0]: Receive AppendEntries message from 1 with args &{Term:1 LeaderId:1 PrevLogIdx:0 PrevLogTerm:1 Entries:[] LeaderCommitIdx:0}.
2024/06/17 08:29:11 [0]: Reply success.
2024/06/17 08:29:11 [3]: Receive AppendEntries message from 1 with args &{Term:1 LeaderId:1 PrevLogIdx:0 PrevLogTerm:1 Entries:[] LeaderCommitIdx:0}.
2024/06/17 08:29:11 [3]: Reply success.
2024/06/17 08:29:11 [2]: Reply success.
2024/06/17 08:29:11 [2]: Receive AppendEntries message from 1 with args &{Term:1 LeaderId:1 PrevLogIdx:0 PrevLogTerm:1 Entries:[] LeaderCommitIdx:0}.
2024/06/17 08:29:11 [2]: Reply success.
2024/06/17 08:29:11 [3]: Receive AppendEntries message from 1 with args &{Term:1 LeaderId:1 PrevLogIdx:0 PrevLogTerm:1 Entries:[] LeaderCommitIdx:0}.
2024/06/17 08:29:11 [3]: Reply success.
2024/06/17 08:29:11 [0]: Receive AppendEntries message from 1 with args &{Term:1 LeaderId:1 PrevLogIdx:0 PrevLogTerm:1 Entries:[] LeaderCommitIdx:0}.
2024/06/17 08:29:11 [0]: Reply success.
2024/06/17 08:29:11 [4]: Receive AppendEntries message from 1 with args &{Term:1 LeaderId:1 PrevLogIdx:0 PrevLogTerm:1 Entries:[] LeaderCommitIdx:0}.
2024/06/17 08:29:11 [4]: Reply success.
2024/06/17 08:29:11 [2]: Receive AppendEntries message from 1 with args &{Term:1 LeaderId:1 PrevLogIdx:0 PrevLogTerm:1 Entries:[] LeaderCommitIdx:0}.
2024/06/17 08:29:11 [2]: Reply success.
2024/06/17 08:29:11 [0]: Receive AppendEntries message from 1 with args &{Term:1 LeaderId:1 PrevLogIdx:0 PrevLogTerm:1 Entries:[] LeaderCommitIdx:0}.
2024/06/17 08:29:11 [0]: Reply success.
2024/06/17 08:29:11 [4]: Receive AppendEntries message from 1 with args &{Term:1 LeaderId:1 PrevLogIdx:0 PrevLogTerm:1 Entries:[] LeaderCommitIdx:0}.
2024/06/17 08:29:11 [4]: Reply success.
2024/06/17 08:29:11 [3]: Receive AppendEntries message from 1 with args &{Term:1 LeaderId:1 PrevLogIdx:0 PrevLogTerm:1 Entries:[] LeaderCommitIdx:0}.
2024/06/17 08:29:11 [3]: Reply success.
2024/06/17 08:29:11 [4]: Receive AppendEntries message from 1 with args &{Term:1 LeaderId:1 PrevLogIdx:0 PrevLogTerm:1 Entries:[] LeaderCommitIdx:0}.
2024/06/17 08:29:11 [4]: Reply success.
2024/06/17 08:29:11 [0]: Receive AppendEntries message from 1 with args &{Term:1 LeaderId:1 PrevLogIdx:0 PrevLogTerm:1 Entries:[] LeaderCommitIdx:0}.
2024/06/17 08:29:11 [0]: Reply success.
2024/06/17 08:29:11 [2]: Receive AppendEntries message from 1 with args &{Term:1 LeaderId:1 PrevLogIdx:0 PrevLogTerm:1 Entries:[] LeaderCommitIdx:0}.
2024/06/17 08:29:11 [2]: Reply success.
2024/06/17 08:29:11 [3]: Receive AppendEntries message from 1 with args &{Term:1 LeaderId:1 PrevLogIdx:0 PrevLogTerm:1 Entries:[] LeaderCommitIdx:0}.
2024/06/17 08:29:11 [3]: Reply success.
2024/06/17 08:29:11 [1]: Received command {Data:20 Term:1 Index:1} from client
2024/06/17 08:29:11 [0]: Receive AppendEntries message from 1 with args &{Term:1 LeaderId:1 PrevLogIdx:0 PrevLogTerm:1 Entries:[{Data:20 Term:1 Index:1}] LeaderCommitIdx:0}.
2024/06/17 08:29:11 [0]: Reply success.
2024/06/17 08:29:12 [0]: Receive AppendEntries message from 1 with args &{Term:1 LeaderId:1 PrevLogIdx:1 PrevLogTerm:1 Entries:[] LeaderCommitIdx:0}.
2024/06/17 08:29:12 [0]: Reply success.
2024/06/17 08:29:12 [1]: Found a larger majority match. Increment commitIdx to 1
2024/06/17 08:29:12 [1]: Sent applyMsg {CommandValid:true Command:20 CommandIndex:2}.
2024/06/17 08:29:12 [0]: Receive AppendEntries message from 1 with args &{Term:1 LeaderId:1 PrevLogIdx:1 PrevLogTerm:1 Entries:[] LeaderCommitIdx:1}.
2024/06/17 08:29:12 [0]: Increment commitIdx from 0 to 1
2024/06/17 08:29:12 [0]: Sent applyMsg {CommandValid:true Command:20 CommandIndex:2}.
2024/06/17 08:29:12 [0]: Reply success.
2024/06/17 08:29:12 [0]: Receive AppendEntries message from 1 with args &{Term:1 LeaderId:1 PrevLogIdx:1 PrevLogTerm:1 Entries:[] LeaderCommitIdx:1}.
2024/06/17 08:29:12 [0]: Reply success.
2024/06/17 08:29:12 [0]: Receive AppendEntries message from 1 with args &{Term:1 LeaderId:1 PrevLogIdx:1 PrevLogTerm:1 Entries:[] LeaderCommitIdx:1}.
2024/06/17 08:29:12 [0]: Reply success.
2024/06/17 08:29:12 [0]: Receive AppendEntries message from 1 with args &{Term:1 LeaderId:1 PrevLogIdx:1 PrevLogTerm:1 Entries:[] LeaderCommitIdx:1}.
2024/06/17 08:29:12 [0]: Reply success.
2024/06/17 08:29:12 [0]: Receive AppendEntries message from 1 with args &{Term:1 LeaderId:1 PrevLogIdx:1 PrevLogTerm:1 Entries:[] LeaderCommitIdx:1}.
2024/06/17 08:29:12 [0]: Reply success.
2024/06/17 08:29:12 [0]: Receive AppendEntries message from 1 with args &{Term:1 LeaderId:1 PrevLogIdx:1 PrevLogTerm:1 Entries:[] LeaderCommitIdx:1}.
2024/06/17 08:29:12 [0]: Reply success.
2024/06/17 08:29:12 [0]: Receive AppendEntries message from 1 with args &{Term:1 LeaderId:1 PrevLogIdx:1 PrevLogTerm:1 Entries:[] LeaderCommitIdx:1}.
2024/06/17 08:29:12 [0]: Reply success.
2024/06/17 08:29:12 [0]: Receive AppendEntries message from 1 with args &{Term:1 LeaderId:1 PrevLogIdx:1 PrevLogTerm:1 Entries:[] LeaderCommitIdx:1}.
2024/06/17 08:29:12 [0]: Reply success.
2024/06/17 08:29:12 [0]: Receive AppendEntries message from 1 with args &{Term:1 LeaderId:1 PrevLogIdx:1 PrevLogTerm:1 Entries:[] LeaderCommitIdx:1}.
2024/06/17 08:29:12 [0]: Reply success.
2024/06/17 08:29:13 [0]: Receive AppendEntries message from 1 with args &{Term:1 LeaderId:1 PrevLogIdx:1 PrevLogTerm:1 Entries:[] LeaderCommitIdx:1}.
2024/06/17 08:29:13 [0]: Reply success.
2024/06/17 08:29:13 [0]: Receive AppendEntries message from 1 with args &{Term:1 LeaderId:1 PrevLogIdx:1 PrevLogTerm:1 Entries:[] LeaderCommitIdx:1}.
2024/06/17 08:29:13 [0]: Reply success.
2024/06/17 08:29:13 [0]: Receive AppendEntries message from 1 with args &{Term:1 LeaderId:1 PrevLogIdx:1 PrevLogTerm:1 Entries:[] LeaderCommitIdx:1}.
2024/06/17 08:29:13 [0]: Reply success.
2024/06/17 08:29:13 [0]: Receive AppendEntries message from 1 with args &{Term:1 LeaderId:1 PrevLogIdx:1 PrevLogTerm:1 Entries:[] LeaderCommitIdx:1}.
2024/06/17 08:29:13 [0]: Reply success.
2024/06/17 08:29:13 [0]: Receive AppendEntries message from 1 with args &{Term:1 LeaderId:1 PrevLogIdx:1 PrevLogTerm:1 Entries:[] LeaderCommitIdx:1}.
2024/06/17 08:29:13 [0]: Reply success.
2024/06/17 08:29:13 [0]: Receive AppendEntries message from 1 with args &{Term:1 LeaderId:1 PrevLogIdx:1 PrevLogTerm:1 Entries:[] LeaderCommitIdx:1}.
2024/06/17 08:29:13 [0]: Reply success.
2024/06/17 08:29:13 [0]: Receive AppendEntries message from 1 with args &{Term:1 LeaderId:1 PrevLogIdx:1 PrevLogTerm:1 Entries:[] LeaderCommitIdx:1}.
2024/06/17 08:29:13 [0]: Reply success.
2024/06/17 08:29:13 [0]: Receive AppendEntries message from 1 with args &{Term:1 LeaderId:1 PrevLogIdx:1 PrevLogTerm:1 Entries:[] LeaderCommitIdx:1}.
2024/06/17 08:29:13 [0]: Reply success.
2024/06/17 08:29:13 [0]: Receive AppendEntries message from 1 with args &{Term:1 LeaderId:1 PrevLogIdx:1 PrevLogTerm:1 Entries:[] LeaderCommitIdx:1}.
2024/06/17 08:29:13 [0]: Reply success.
--- FAIL: TestFailNoAgree2B (3.10s)
    test_test.go:209: 2 committed but no majority
FAIL
exit status 1
FAIL	_/workspaces/distributed_sys_labs/6.824/src/raft	3.104s
